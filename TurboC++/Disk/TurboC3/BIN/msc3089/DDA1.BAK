#include<stdio.h>
#include<conio.h>
#include<graphics.h>
#include<math.h>
#define round(a)((int)a+0.5)
void dda(int xa,int ya,int xb,int yb,int a[])
{
	int dx,dy,xincr,yincr,x=xa,y=ya,steps,i,cnt=0,w=10,j;
	int cal1=(w-1)/2;
	int cal2 = abs(xb-xa)*abs(xb-xa);
	int cal3 = abs(yb-ya)*abs(yb-ya);
	int cal4 = sqrtl(cal2+cal3);
	int cal5 = abs(xb-xa);
	int wy = (cal1*(cal4/cal5));

	dx=abs(xb-xa);
	dy=abs(yb-ya);
	if(dx>dy)
	{
		steps=dx;
	}
	else
	{
		steps=dy;
	}
	xincr=dx/steps;
	yincr=dy/steps;
	putpixel(x,y,RED);
	for(i=0;i<steps;i++)
	{
		x=x+xincr;
		y=y+yincr;
		for(j=y+wy;j>y-wy;j++)
		{
			putpixel(x,round(j),RED);
		}
	}
}
void main()
{
	int gd=DETECT,gm;
	int a[5]={1,1,0,0,1};
	clrscr();
	initgraph(&gd,&gm,"c:/turboc3/bgi");
	dda(50,100,100,150,a);
	getch();
}